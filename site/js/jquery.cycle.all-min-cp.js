(function(a){function e(c,d){var e=a(d.pager);a.each(c,function(f,g){var h=a('<a href="#">'+(f+1)+"</a>").appendTo(e).bind("click",function(){d.nextSlide=f;b(c,d,1);return false});if(f==0)h.addClass("activeSlide")})}function d(b){a("#num").html(b)}function c(a,c,e){var f=a[0].parentNode,g=f.cycleTimeout;if(g){clearTimeout(g);f.cycleTimeout=0}c.nextSlide=c.currSlide+e;if(c.nextSlide<0)c.nextSlide=a.length-1;else if(c.nextSlide>=a.length)c.nextSlide=0;d(c.nextSlide+1+"/"+a.length);b(a,c,1);return false}function b(c,d,e){var f=c[0].parentNode,g=c[d.currSlide],h=c[d.nextSlide];if(f.cycleTimeout===0&&!e)return;if(d.before.length)a.each(d.before,function(a,b){b.apply(h,[g,h,d])});var i=d.after.length==0?null:function(){a.each(d.after,function(a,b){b.apply(h,[g,h,d])})};if(e||!d.paused){if(d.autostop&&--d.countdown==0)return;if(d.nextSlide!=d.currSlide){if(d.fxFn)d.fxFn(g,h,d,i);else if(a.isFunction(a.fn.cycle[d.fx]))a.fn.cycle[d.fx](g,h,d,i);else a.fn.cycle.custom(g,h,d,i)}if(d.random){d.currSlide=d.nextSlide;while(d.nextSlide==d.currSlide)d.nextSlide=Math.floor(Math.random()*c.length)}else{var j=d.nextSlide+1==c.length;d.nextSlide=j?0:d.nextSlide+1;d.currSlide=j?c.length-1:d.nextSlide-1}if(d.pager)a(d.pager).find("a").removeClass("activeSlide").filter("a:eq("+d.currSlide+")").addClass("activeSlide")}if(d.timeout)f.cycleTimeout=setTimeout(function(){b(c,d,0)},d.timeout)}a.fn.cycle=function(f){return this.each(function(){if(f&&f.constructor==String){if(f=="stop"){if(this.cycleTimeout)clearTimeout(this.cycleTimeout);this.cycleTimeout=0;return}f={fx:f}}var g=a(this),h=g.children(),i=h.get();d("1/"+i.length);if(i.length<2)return;var j=a.extend({},a.fn.cycle.defaults,f||{},a.meta?g.data():{});if(j.autostop)j.countdown=i.length;j.before=j.before?[j.before]:[];j.after=j.after?[j.after]:[];var k=this.className;var l=parseInt((k.match(/w:(\d+)/)||[])[1])||j.width;var m=parseInt((k.match(/h:(\d+)/)||[])[1])||j.height;j.timeout=parseInt((k.match(/t:(\d+)/)||[])[1])||j.timeout;if(g.css("position")=="static")g.css("position","relative");if(l)g.width(l);if(m&&m!="auto")g.height(m);h.each(function(b){a(this).css("z-index",i.length-b)}).css("position","absolute").hide();a(i[0]).show();if(j.fit&&l)h.width(l);if(j.fit&&m&&m!="auto")h.height(m);if(j.pause)g.hover(function(){j.paused=1},function(){j.paused=0});var n=a.fn.cycle.transitions[j.fx];if(a.isFunction(n))n(g,h,j);if(j.cssBefore)h.not(":eq(0)").css(j.cssBefore);j.cssBefore=j.cssBefore||{};j.animIn=j.animIn||{};j.animOut=j.animOut||{};if(j.timeout){if(j.speed.constructor==String)j.speed={slow:600,fast:200}[j.speed]||400;if(!j.sync)j.speed=j.speed/2;while(j.timeout-j.speed<250)j.timeout+=j.speed}if(j.easing)j.easeIn=j.easeOut=j.easing;if(!j.speedIn)j.speedIn=j.speed;if(!j.speedOut)j.speedOut=j.speed;j.nextSlide=j.random?Math.floor(Math.random()*(i.length-1))+1:1;j.currSlide=0;if(j.click&&!j.next)j.next=j.click;if(j.next)a(j.next).bind("click",function(){return c(i,j,1)});if(j.prev)a(j.prev).bind("click",function(){return c(i,j,-1)});if(j.pager)e(i,j);if(j.timeout)this.cycleTimeout=setTimeout(function(){b(i,j,1)},j.timeout+(j.delay||0))})};a.fn.cycle.custom=function(b,c,d,e){var f=a(b);var g=function(){a(c).css(d.cssBefore).animate(d.animIn,d.speedIn,d.easeIn,e)};f.animate(d.animOut,d.speedOut,d.easeOut,function(){if(d.cssAfter)f.css(d.cssAfter);if(!d.sync)g()});if(d.sync)g()};a.fn.cycle.version="1.6";a.fn.cycle.transitions={fade:function(b,c,d){d.before.push(function(){a(this).show()}),d.animIn={opacity:1};d.animOut={opacity:0};d.cssAfter={display:"none"}}};a.fn.cycle.defaults={fx:"fade",timeout:4e3,speed:1e3,speedIn:null,speedOut:null,click:null,next:null,prev:null,pager:null,before:null,after:null,easing:null,easeIn:null,easeOut:null,shuffle:null,animIn:null,animOut:null,cssBefore:null,cssAfter:null,fxFn:null,height:"auto",sync:1,random:0,fit:0,pause:0,autostop:0,delay:0}})(jQuery)
